{% extends "base.html" %}

{% block content %}

<form method="POST" action="">
    <div class="row">
        <!-- LEFT COLUMN: Contact & Guest Info -->
        <div class="col-md-7">
            <div class="card mb-3 p-3">
                <h5>Contact Information</h5>
                <div class="mb-2 mt-2 text-muted">
                    To change contact info, please visit your account page.
                </div>

                <div class="mb-2 mt-3">
                    <label>Name</label>
                    <input type="text" name="contact_name" class="form-control" value="{{ customer['name'] }}" disabled>
                </div>
                <div class="mb-2">
                    <label>Email</label>
                    <input type="email" name="contact_email" class="form-control" value="{{ customer['email'] }}" disabled>
                </div>
                <div class="mb-2">
                    <label>Mobile</label>
                    <input type="text" name="contact_mobile" class="form-control" value="{{ customer['mobile'] }}" disabled>
                </div>
            </div>

            <div class="card mb-3 p-3">
                <h5>Guest Details</h5>
                <p class="text-muted">
                    Provide the primary guest name for this booking.
                </p>

                <div class="mb-3">
                    <label>Full Name</label>
                    <input
                        type="text"
                        name="guest_full_name"
                        class="form-control"
                        required
                        placeholder="Primary guest full name"
                    >
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100 mb-4">Confirm Booking</button>
        </div>

        <!-- RIGHT COLUMN: Booking Summary -->
        <div class="col-md-5">
            <div class="card p-3">
                <h5>Booking Summary</h5>

                <p class="mb-1 mt-1">
                    <strong>{{ info.property_name }}</strong>
                    {% if info.star %}
                        <span class="text-warning">
                            {% for _ in range(info.star) %}★{% endfor %}
                        </span>
                    {% endif %}
                    <br>
                    <span class="text-muted">{{ info.city }}, {{ info.country }}</span>
                </p>

                <hr>

                <p class="mb-1">
                    <strong>Room:</strong> {{ info.room_name }}<br>
                    <strong>Plan:</strong> {{ info.plan_name }}<br>
                    <strong>Stay:</strong> {{ data.check_in }} → {{ data.check_out }} ({{ nights }} night{{ 's' if nights > 1 else '' }})<br>
                    <strong>Check-in time:</strong> {{ info.check_in_time }}<br>
                    <strong>Check-out time:</strong> {{ info.check_out_time }}<br>
                    <strong>Rooms:</strong> {{ rooms }}<br>
                    <strong>Guests:</strong> {{ guests }}<br>
                    {% if info.reschedulable %}
                    <span class="badge bg-success mt-2">Reschedulable</span>
                    {% else %}
                    <span class="badge bg-secondary mt-2">Not reschedulable</span>
                    {% endif%}
                    {% if info.refundable %}
                    <span class="badge bg-success mt-2">Refundable</span>
                    {% else %}
                    <span class="badge bg-secondary mt-2">Not refundable</span>
                    {% endif%}
                </p>

                <hr>

                <div class="mb-2">
                    <div class="d-flex justify-content-between small text-muted">
                        <div>Price / night</div>
                        <div>Rp {{ "{:,.0f}".format(info.price_per_night).replace(",", ".") }}</div>
                    </div>
                    <div class="d-flex justify-content-between small text-muted">
                        <div>Duration</div>
                        <div>{{ nights }} night{{ 's' if nights > 1 else '' }}</div>
                    </div>
                    <div class="d-flex justify-content-between small text-muted">
                        <div>Rooms</div>
                        <div>{{ rooms }}</div>
                    </div>
                </div>

                <hr>

                <div class="d-flex justify-content-between">
                    <div class="fw-semibold">Total</div>
                    <div class="fw-bold">Rp {{ "{:,.0f}".format(total_price).replace(",", ".") }}</div>
                </div>
            </div>
        </div>
    </div>
</form>

{% endblock %}